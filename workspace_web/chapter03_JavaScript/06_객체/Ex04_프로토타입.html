<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>
<script>
    // 프로토타입 ( prototype )
    // 생성자 함수는 프로토타입 프로퍼티를 가지고있다.
    // 생성자로부터 생성된 객체는 프로토타입으로 부터 프로퍼티와 메소드를 상속받는다.
    // 생성자 함수와 프로토타입은 서로 참조할 수 있다.
    // 즉 생성자 함수와 프로토타입은 짝꿍으로 생각하면 되고, 생성자 함수가 만들어질 때 프로토타입도 생성된다.

    // 생성자 함수 생성
    function Person1(name, age) {
        this.name = name;
        this.age = age;
        this.__proto__.eyes = 2;
        this.__proto__.nose = 1;
    }

    let p1 = new Person1('김씨', 20);
    let p2 = new Person1('박씨', 30);
    console.log(" p1 : ", p1.eyes);
    console.log(" p2 : ", p2.nose);

    // 외부에서 프로토타입 추가
    function Person2(name, age) {
        this.name = name;
        this.age = age;
    }

    Person2.prototype.eyes = 2;
    Person2.prototype.nose = 2;
    let p4 = new Person2("김씨", 20);
    let p5 = new Person2("박씨", 30);
    console.log(" p4 : ", p4);
    console.log(" p5 : ", p5);

    // 1. 생성자 함수 (프로토타입X)
    // 객체를 생성할 때 마다 각각의 프로퍼티들이 생성
    // 2. 생성자 함수(프로토타입o)
    // 생성자 함수 내부에서 프로토타입의 프로퍼티 작성
    // 3. 생성자 함수(프로토타입o)
    // 생성자 함수 외부에서 동적으로 프로토타입의 프로퍼티 추가

    // 하나의 생성자를 이용하여 여러 객체를 생성, 
    // 사용할 경우 공통된 데이터를 매번 생성하여 메모리에 저장할 필요가 없을때에 싱그톤 개념으로 
    // 하나를 생성한 후 모든 객체에서 접근하여 사용할 수 있도록 함이 목적

    // Q. 생성자 함수를 이용하여 학생 객체를 생성하고, 학생 이름과 평균을 출력하시오
    // 1. 생성자 Student(name, kor, mat, eng)
    // 2. 평균 반환 메소드 : getAverage
    // 3. 내용출력 메소드 : info
    // 4. 두명 이상의 학생 객체를 생성
    // 5. 학생들을 담는 배열 students를 생성 후 학생 객체를 추가
    // 6. 반복문을 통해 정보를 출력


    function Student(name, kor, mat, eng) {
        this.name = name;
        this.kor = kor;
        this.mat = mat;
        this.eng = eng;
    }

    // 생성자 함수에 함수타입으로 저장
    Student.prototype.getAverage = function(){
        return (this.kor + this.mat + this.eng) / 3;
    }
   
    Student.prototype.info = function(){
        return console.log(`${this.name}의 평균점수 : ${this.getAverage()}`)
    }


    let students = [];
    let str1 = new Student('김씨', 30, 60, 80);
    let str2 = new Student('박씨', 60, 30, 20);
    students.push(str1);
    students.push(str2);

    for (let i of students) {
        i.info();
    }


</script>

</html>